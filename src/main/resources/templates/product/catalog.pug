extends ../layout

block content
  .breadcrumb(data-test="breadcrumb")
    a.breadcrumb__link(href="/") Home
    span.breadcrumb__separator /
    span.breadcrumb__current Products

  h1 Our Products

  if productCatalog.totalProducts() > 0
    .product-grid(data-test="product-grid")
      each product in productCatalog.products()
        .product-card(data-test="product-card")
          .product-card__image
            if product.imageUrl() != null && product.imageUrl() != ''
              img(src=product.imageUrl() alt=product.name())
            else
              .product-card__image-placeholder #{product.name().charAt(0)}
          .product-card__body
            h3.product-card__title #{product.name()}
            if product.description() != null && product.description() != ''
              p.product-card__description #{product.description()}
            .product-card__price #{product.priceAmount()} #{product.priceCurrency()}
            .product-card__footer
              if product.isInStock()
                span.product-card__badge.product-card__badge--available In Stock
              else
                span.product-card__badge.product-card__badge--out-of-stock Out of Stock
              a.btn.btn--primary.product-card__action(href="/products/" + product.productId() data-test="view-product") View Details
  else
    .empty-state
      p.empty-state__title No products available
      p.empty-state__message Check back soon for new products.
